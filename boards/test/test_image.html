
<!DOCTYPE html>
<html>
<head>
	
	<title>Hangboard</title>

    </head>
    <body>

    <script>



var ws = new WebSocket("ws://127.0.0.1:4321/");


ws.onmessage = function(event) {
			//var parsed = JSON.parse(event.data);
		//var completed = parsed.Completed;
			console.log (event.data);
    //console.log("MESSAGERECEIVED!")
            //msg(ws.rQshiftStr());
       //     var ctx = cv.getContext('2d');
   // var img = new Image();
   // img.src = "data:image/png;base64," + window.btoa(str);
  //  img.onload = function () {
  //      ctx.drawImage(img,0,0);
   // }
  //}

}



</script>
Test 
<img id="img" src="" />
<img id="img2" src="" />
<img id="img3" src="" />

<script>
    document.getElementById('img2')
    .setAttribute(
        'src', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='
    );

    document.getElementById('img3')
    .setAttribute(
        'src', 'data:image/png;base64,'+ 

    'ewogICAgIk5hbWUiOiAiWmxhZ2JvYXJkIEVWTyIsCiAgICAiSG9sZHMiOiBbCiAgICAgICAgeyJOYW1lIjogIkpVRyIgICAgICAgICAgLCAiUm93IjogMSwgICAgICJDb2wiOiAxLCAgICAiV2lkdGgiOiAiNCBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQTEifSwKICAgICAgICB7Ik5hbWUiOiAiMzLCsCIgICAgICAgICAgLCAiUm93IjogMSwgICAgICJDb2wiOiAyLCAgICAiV2lkdGgiOiAiNCBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQTIifSwKICAgICAgICB7Ik5hbWUiOiAiMjDCsCIgICAgICAgICAgLCAiUm93IjogMSwgICAgICJDb2wiOiAzLCAgICAiV2lkdGgiOiAiNCBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQTMifSwKICAgICAgICB7Ik5hbWUiOiAic2xvcGVyIEpVRyIgICAsICJSb3ciOiAxLCAgICAgIkNvbCI6IDQsICAgICJXaWR0aCI6ICI0IEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJBNCJ9LAogICAgICAgIHsiTmFtZSI6ICIyMMKwICIgICAgICAgICAsICJSb3ciOiAxLCAgICAgIkNvbCI6IDUsICAgICJXaWR0aCI6ICI0IEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJBNSJ9LAogICAgICAgIHsiTmFtZSI6ICIzMsKwIiAgICAgICAgICAsICJSb3ciOiAxLCAgICAgIkNvbCI6IDYsICAgICJXaWR0aCI6ICI0IEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJBNiJ9LAogICAgICAgIHsiTmFtZSI6ICJKVUciICAgICAgICAgICwgIlJvdyI6IDEsICAgICAiQ29sIjogNywgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkE3In0sCgogICAgICAgIHsiTmFtZSI6ICIzMG1tIiAgICAgICAgICwgIlJvdyI6IDIsICAgICAiQ29sIjogMSwgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkIxIn0sCiAgICAgICAgeyJOYW1lIjogInNsb3BlciAzMG1tIiAgLCAiUm93IjogMiwgICAgICJDb2wiOiAyLCAgICAiV2lkdGgiOiAiMyBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQjIifSwKICAgICAgICB7Ik5hbWUiOiAic2xvcGVyIDI1bW0iICAsICJSb3ciOiAyLCAgICAgIkNvbCI6IDMsICAgICJXaWR0aCI6ICIyIEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJCMyJ9LAogICAgICAgIHsiTmFtZSI6ICIzNW1tIiAgICAgICAgICwgIlJvdyI6IDIsICAgICAiQ29sIjogNCwgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkI0In0sCiAgICAgICAgeyJOYW1lIjogInNsb3BlciAyNW1tIiAgLCAiUm93IjogMiwgICAgICJDb2wiOiA1LCAgICAiV2lkdGgiOiAiMiBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQjUifSwKICAgICAgICB7Ik5hbWUiOiAic2xvcGVyIDMwbW0iICAsICJSb3ciOiAyLCAgICAgIkNvbCI6IDYsICAgICJXaWR0aCI6ICIzIEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJCNiJ9LAogICAgICAgIHsiTmFtZSI6ICIzMG1tIiAgICAgICAgICwgIlJvdyI6IDIsICAgICAiQ29sIjogNywgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkI3In0sCgogICAgICAgIHsiTmFtZSI6ICIyMG1tIiAgICAgICAgICwgIlJvdyI6IDMsICAgICAiQ29sIjogMSwgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkMxIn0sCiAgICAgICAgeyJOYW1lIjogInNsb3BlciAyNW1tIiAgLCAiUm93IjogMywgICAgICJDb2wiOiAyLCAgICAiV2lkdGgiOiAiMyBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQzIifSwKICAgICAgICB7Ik5hbWUiOiAiMzBtbSIgICAgICAgICAsICJSb3ciOiAzLCAgICAgIkNvbCI6IDMsICAgICJXaWR0aCI6ICIyIEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJDMyJ9LAogICAgICAgIHsiTmFtZSI6ICJzbG9wZXIgMzBtbSIgICwgIlJvdyI6IDMsICAgICAiQ29sIjogNCwgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkM0In0sCiAgICAgICAgeyJOYW1lIjogIjMwbW0iICAgICAgICAgLCAiUm93IjogMywgICAgICJDb2wiOiA1LCAgICAiV2lkdGgiOiAiMiBGaW5nZXIiLCAgICJJbWdMYXllck5hbWUiOiAiQzUifSwKICAgICAgICB7Ik5hbWUiOiAic2xvcGVyIDI1bW0iICAsICJSb3ciOiAzLCAgICAgIkNvbCI6IDYsICAgICJXaWR0aCI6ICIzIEZpbmdlciIsICAgIkltZ0xheWVyTmFtZSI6ICJDNiJ9LAogICAgICAgIHsiTmFtZSI6ICIyMG1tIiAgICAgICAgICwgIlJvdyI6IDMsICAgICAiQ29sIjogNywgICAgIldpZHRoIjogIjQgRmluZ2VyIiwgICAiSW1nTGF5ZXJOYW1lIjogIkM3In0KCiAgICBdCn0='

    );



    ws.onmessage = function(event) {
        document.getElementById('img')
        .setAttribute(
            'src', 'data:image/png;base64,' + event.data
            //iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='
            );

    }
</script>
</body>
